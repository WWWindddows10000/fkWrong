<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>fkWrong!主页</title>
  <style>
    li.error {
      background-color: #5a5a5a;
      border-color: #1fe291;
      color: #e9f0f6;
      font-weight: bold;
    }
    ul {
      list-style-type: none;
      padding: 0;
      margin: 0;
      text-align: center;
    }
    li {
      cursor: pointer;
      display: block;
      margin: auto;
      width: 80%;
      padding: 8px 16px;
      border: 1px double #2600ff;
      transition: background-color 0.4s;
    }
    #select_upload {
      table-layout: fixed;
      border: none;
    }
    #upload{
      width: auto;
      height: 100px;
      border: 2px dashed #868686;
      border-radius: 10px;
      text-align: center;
      line-height: 100px;
      color: #000000;
      background-color: aquamarine;
      font-size: 16px;
      margin: auto;
    }
    li:hover {
      background-color: #f5f5f5;
    }
    .two_column {
      border: none;
    }
    li.error:hover {
      background-color: #4b4b4b;
    }
    body {
      font-family: "宋体";
      background-image: url("../static/picture/background.jpg"); 
      background-size: cover; 
    }
    #main_table {
      background-color: rgba(127,255,212,0.75);
      height: auto;
    }
    #main_table th[scope="row"] {
      min-width: 168px;
      max-width: 168px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }
    th[scope="row"] {
        height: 20px;
        max-height: 20px;
        overflow: hidden;
        white-space: nowrap;
      }
    .container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style><!-- 如果使用外部css的话，不起作用，我也不知道为啥，neither ai knows~ -->
</head>












<body>
<div class="drag-container" onselectstart="return false;" id="scanWin" style="display:none; position:fixed; top:500px; left:500px; z-index:9999; cursor:move;background-color: #0066ffa4;">
  <div style="text-align: center; font-size: 24px;height: 30px; color: #ffffff;background-color: #8f36f4;">
    <strong>文件扫描</strong>
    <button align="right" id="closeScanWin" style="float: right; background-color: #f44336; color: white; border: none;height:30px;width:40px; cursor: pointer;">X</button>
  </div>
  <iframe
    id="scanWindow"
    title="文件扫描"
    width="700"
    height="223"
    src="/scanWindow"
    style="pointer-events:auto; user-select:none;">
  </iframe>
</div>
<script>
  // 简单拖动功能
  const dragElem = document.getElementById('scanWin');
  let isDragging = false, offsetX = 0, offsetY = 0;

  dragElem.addEventListener('mousedown', function(e) {
    isDragging = true;
    offsetX = e.clientX - dragElem.offsetLeft;
    offsetY = e.clientY - dragElem.offsetTop;
    dragElem.style.cursor = 'grabbing';
  });

  document.addEventListener('mousemove', function(e) {
    if (isDragging) {
      dragElem.style.left = (e.clientX - offsetX) + 'px';
      dragElem.style.top = (e.clientY - offsetY) + 'px';
    }
  });

  document.addEventListener('mouseup', function() {
    isDragging = false;
    dragElem.style.cursor = 'move';
  });

</script>
<div class="container">
  <table id="main_table" width="1096" border="3">

    <tr>
      <th height="138" colspan="2" scope="col"><img src="{{ url_for('static', filename='picture/fkWrong.png') }}" style="width:100%;height:158px;" /></th>
    </tr>
    <tr>
      <th width="168" scope="row">===快速开始===</th>
      <td width="1024" align="center" id="main_ui" rowspan="8">
        {{ main_ui | safe }}
    </tr>
    <tr>
      <th scope="row">错题本&gt;</th>
    </tr>
    <tr>
      <th scope="row">寻找作业&gt;</th>
    </tr>
    <tr>
      <th scope="row">考试信息&gt;</th>
    </tr>
    <tr>
      <th scope="row" id="scanButton">文件扫描&gt;</th>
    <tr>
      <th scope="row" id="printButton">打印&gt;</th>
    <tr>
      <th scope="row" id="settingsButton">设置&gt;</th>
    <tr>
      <th style="height: 277px !important;" scope="row">&nbsp;</th>
    </tr>
  </table>
</div>













<script>
  window.onload = function(){
    window.addEventListener('message',function(e){
        console.log(e.data)
    })
}
document.getElementById('scanButton').onclick = function() {
  document.getElementById('scanWin').style.display = 'block';
};
document.getElementById('closeScanWin').onclick = function() {
  document.getElementById('scanWin').style.display = 'none';
};
document.getElementById('settingsButton').onclick = function() {
  document.getElementById('main_ui').innerHTML = `<iframe
    id="settingsWindow"
    title="设置"
    width="804"
    height="500"
    src="/setting">
  </iframe>`;
};
</script>

</body>
</html>
