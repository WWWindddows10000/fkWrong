<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>出库入库</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='pages/outin/outin.css') }} "/>
  </head>
  <body>
      <div class="page">
      <div class="content">
        <div class="main-area">
        <a href="/"><button class="submit-btn float-down" style="width:150px;height:50px;">回到首页</button></a>
          
        <h1 class="title float-down" style="--delay: 0.1s;">扫描作业</h1>
        <span class="instruction float-down" style="--delay: 0.2s;">扫描书籍的条码：</span>
        <div class="input-group float-down" style="--delay: 0.3s;">
          <form action="/inout/submit" method="post">
          <input type="text" class="isbn-input" placeholder="(拿起扫描枪扫描条码吧！) " name="isbn" autofocus>
          <input type="submit" class="submit-btn"></input>
          </form>
        </div>
        <style>
          .float-down {
          opacity: 0;
          transform: translateY(-30px);
          animation: floatDown 0.6s ease forwards;
          animation-delay: var(--delay, 0s);
          }
          @keyframes floatDown {
          to {
            opacity: 1;
            transform: translateY(0);
          }
          }
        </style>
        </div>
       <style>
              .caozuo {
                font-size: 1.5rem;
                font-weight: 500;
                border-radius: 0.5rem;
                display: inline-block;
                width: 300px;
                padding: 0.2em 0.6em;
                border: 1px solid;
                box-sizing: border-box;
                margin-bottom: 0.25rem;
                opacity: 0;
                transform: translateY(-30px);
                animation: floatDown 0.6s ease forwards;
                animation-delay: var(--delay, 0s);
                margin-bottom: 4px;
              }
              @keyframes floatDown {
                to {
                  opacity: 1;
                  transform: translateY(0);
                }
              }
            </style>
            {% for isbn in isbns %}
              {% set delay = loop.index0 * 0.12 %}
                {% if isbn.endswith('已成功出库！') %}
                  <marquee scrollamount="30" direction="left" onmouseover=this.stop() onmouseout=this.start() scrolldelay="300" class="caozuo" style="background-color: #88e3d4;border-color: #559f8a; --delay: {{ delay }}s;">{{ isbn }}</marquee>
                {% elif isbn.endswith('未成功操作！') %}
                  <marquee scrollamount="30" direction="left" onmouseover=this.stop() onmouseout=this.start() scrolldelay="300" class="caozuo" style="background-color: #ed8b8b;border-color: #bd6565; --delay: {{ delay }}s;">{{ isbn }}</marquee>
                {% else %}
                  <marquee scrollamount="30" direction="left" onmouseover=this.stop() onmouseout=this.start() scrolldelay="300" class="caozuo" style="background-color: #88a2e3;border-color: #5d559f; --delay: {{ delay }}s;">{{ isbn }}</marquee>
                {% endif %}
            {% endfor %}
        </div>
      </div>
    </div>
  </body>
</html>